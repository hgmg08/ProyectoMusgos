{% extends '_layouts/admin.html.twig' %}

{% block head %}

	{{ parent() }}
	
	<script src="{{ base_url('public/js/jqwidgets/jqxinput.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxbuttons.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxscrollbar.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxlistbox.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxdropdownlist.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.columnsresize.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.selection.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.pager.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.filter.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxgrid.sort.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxwindow.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxmenu.js') }}"></script>
	<script src="{{ base_url('public/js/jqwidgets/jqxdata.js') }}"></script>
	
	<script type="text/javascript">
		$(document).ready(function () {
			var theme = 'mdv';
			var data = {{ taxons }};
			var source =
			{
			    datatype: "json",
			    datafields: [
					{ name: 'id', type: 'number' },
					{ name: 'Name', type: 'string' },
					{ name: 'Author', type: 'string' },
					{ name: 'Rank', type: 'string' }
				],
				localdata: data,
				pagesize: 20,
				
				deleterow: function (rowid, commit) { 
					
				}
			};
			var dataAdapter = new $.jqx.dataAdapter(source);
			var getLocalization = function () {
				var localizationobj = {};
				localizationobj.pagergotopagestring = "Ir a página:";
			    localizationobj.pagershowrowsstring = "Mostrar filas:";
			    localizationobj.pagerrangestring = " de ";
			    localizationobj.pagernextbuttonstring = "Siguiente";
			    localizationobj.pagerpreviousbuttonstring = "Anterior";
			    localizationobj.filtershowrowstring = "Escoger:";
			    localizationobj.sortascendingstring = "Ordenar ascendentemente";
				localizationobj.sortdescendingstring = "Ordenar descendentemente";
				localizationobj.sortremovestring = "Quitar ordenación";
			    return localizationobj;
			}
			
			$("#tax_grid").jqxGrid({
				width: '100%',
				height: 400,
				source: dataAdapter,
				theme: theme,
				enablebrowserselection: true,
				columnsresize: true,
				showfilterrow: true,
                filterable: true,
                sortable: true,
			    localization: getLocalization(),
			    pageable: true,
			    columns: [
			    	{ text: 'Id', datafield: 'id', width: '5%', filtertype: 'textbox' },
			        { text: 'Nombre', datafield: 'Name', filtertype: 'textbox' },
			        { text: 'Autor', datafield: 'Author', filtertype: 'textbox' },
			        { text: 'Tipo', datafield: 'Rank', filtertype: 'list' }
			    ]
			});
		});
	</script>

{% endblock %}

{% block content %}

	<div id="taxWindow" caption="Tax">
	</div>

	<div class="grid_12">
		<div id="tax_grid_title">
			Administración de taxones
		</div>
		
		<div id="tax_grid">
		</div>
	</div>

{% endblock %}	